From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: rtlsdrblog <rtlsdrblog@gmail.com>
Date: Fri, 18 Aug 2023 21:21:41 +1200
Subject: [PATCH] add offset tuning bias tee hack

fix bias tee function call
---
 src/librtlsdr.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/src/librtlsdr.c b/src/librtlsdr.c
index 3e7f577..0fcbbd6 100644
--- a/src/librtlsdr.c
+++ b/src/librtlsdr.c
@@ -1241,6 +1241,11 @@ int rtlsdr_set_offset_tuning(rtlsdr_dev_t *dev, int on)
 	if (!dev)
 		return -1;
 
+	/* RTL-SDR-BLOG Hack, enables us to turn on the bias tee by clicking on "offset tuning" in software that doesn't have specified bias tee support.
+    * Offset tuning is not used for R820T/R828D devices so it is no problem.
+	*/
+	rtlsdr_set_bias_tee(dev, on);
+
 	if ((dev->tuner_type == RTLSDR_TUNER_R820T) ||
 	    (dev->tuner_type == RTLSDR_TUNER_R828D))
 		return -2;
-- 
2.40.0

